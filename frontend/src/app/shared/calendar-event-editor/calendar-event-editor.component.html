<form [formGroup]="eventFormGroup" (submit)="submitEvent()">
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Title</mat-label>
      <input
        style="color: var(--foreground-light)"
        formControlName="title"
        matInput
      />
      <mat-icon matSuffix>badge</mat-icon>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Description</mat-label>
      <input
        style="color: var(--foreground-light)"
        formControlName="description"
        matInput
      />
      <mat-icon matSuffix>badge</mat-icon>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Start</mat-label>
      <input
        style="color: var(--foreground-light)"
        formControlName="start"
        matInput
        type="datetime-local"
      />
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Duration (minutes)</mat-label>
      <input
        style="color: var(--foreground-light)"
        formControlName="duration"
        matInput
      />
      <mat-icon matSuffix>timer</mat-icon>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Color</mat-label>
      <input
        style="color: var(--foreground-light)"
        formControlName="color"
        matInput
        type="color"
      />
      <mat-icon matSuffix>palette</mat-icon>
    </mat-form-field>
  </p>
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Repeat</mat-label>
      <select
        style="color: var(--foreground-light)"
        formControlName="repeat"
        matNativeControl
      >
        <option>None</option>
        <option>Daily</option>
        <option>Weekly</option>
        <option>Monthly</option>
        <option>Yearly</option>
        <option>Custom</option>
      </select>
      <mat-icon matSuffix>badge</mat-icon>
    </mat-form-field>
  </p>
  @if(repeatEveryEnabled$ | async){
  <p>
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Repeat every</mat-label>
      <div style="display: flex">
        <input
          style="color: var(--foreground-light)"
          matInput
          formControlName="repeatEveryValue"
        />
        <select
          style="color: var(--foreground-light)"
          formControlName="repeatEveryUnit"
          matNativeControl
        >
          <option>days</option>
          <option>weeks</option>
          <option>months</option>
          <option>years</option>
        </select>
      </div>
      <mat-icon matSuffix>badge</mat-icon>
    </mat-form-field>
  </p>
  }
  <div class="button-container">
    <button mat-flat-button type="submit">Submit</button>
    <button mat-flat-button (click)="$cancelButtonClicked.emit()" type="button">
      Cancel
    </button>
    @if(type === "edit" && calendarEvent){
    <button
      mat-flat-button
      (click)="$deleteButtonClicked.emit(calendarEvent)"
      type="button"
    >
      Delete
    </button>
    }
  </div>
</form>
